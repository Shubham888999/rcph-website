<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>RCPH • DZR Visit</title>

  <link rel="stylesheet" href="style.css"/>
  <style>
    
    .dzr-wrap{ max-width:1200px; margin:28px auto; padding:0 16px; }
    .dzr-topbar{ display:flex; flex-wrap:wrap; gap:12px; align-items:center; justify-content:space-between; margin-bottom:10px; }
    .dzr-title{ margin:0; }
    .pill{ padding:6px 10px; border-radius:999px; background:#222; border:1px solid #333; font-size:13px; }
    .dzr-card{ background:var(--color-card,#1e1e1e); border:1px solid var(--color-border,#2e2e2e); border-radius:12px; padding:16px; box-shadow:0 8px 20px rgba(0,0,0,.18); margin-bottom:18px;}
    .toolbar{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin:10px 0; }
    .toolbar input,.toolbar select{ padding:10px 12px; border-radius:10px; border:1px solid var(--color-border,#2e2e2e); background:#101010; color:#fff; }
    .grid-wrap{ overflow:auto; }
    table.grid{ border-collapse:separate; border-spacing:0; min-width:100%; width:max-content; }
    table.grid th,table.grid td{ padding:10px 12px; border:1px solid var(--color-border,#2e2e2e); background:#181818; }
    table.grid thead th{ position:sticky; top:0; z-index:1; background:#202020; }
    .sticky-col{ position:sticky; left:0; z-index:2; background:#202020; }
    .ev-head{ display:flex; flex-direction:column; align-items:center; gap:4px; }
    .stat-box{ background:#161616; border:1px solid var(--color-border,#2e2e2e); padding:6px 8px; border-radius:8px; color:#ddd; line-height:1.2; font-size:12px; min-width:130px; }
    .kpis{ display:grid; grid-template-columns: repeat(3, minmax(180px,1fr)); gap:12px; margin:12px 0; }
    .kpi{ background:#161616; border:1px solid #2e2e2e; border-radius:10px; padding:12px; text-align:center; }
    .kpi h3{ margin:0; font-size:13px; opacity:.8; }
    .kpi .val{ font-size:20px; font-weight:800; margin-top:4px; }
    
    /* BOD & Avenue sections */
    .nav-tabs{ display:flex; gap:8px; flex-wrap:wrap; margin:6px 0 16px; }
    .nav-tabs a{ background:#161616; border:1px solid #2e2e2e; border-radius:999px; padding:8px 12px; color:#fff; text-decoration:none; font-weight:700; font-size:13px; }
    .panel-title{ margin:0 0 8px; display:flex; align-items:center; gap:10px; }
    .panel-sub{ margin:0 0 12px; opacity:.85; font-size:14px; }
    .drive-link{ color:#8fe9e7; text-decoration:underline; font-weight:700; }

    .att-icon{
  width: 18px; height: 18px; vertical-align: middle; display:inline-block;
}
    /* PPT embeds */
    .ppt-frame{ width:100%; height:480px; border:0; border-radius:10px; background:#000; }
    @media (max-width: 700px){ .ppt-frame{ height:320px; } }
  </style>
</head>
<body>
  <div class="dzr-wrap">
<div class="dzr-topbar">
  <h1 class="dzr-title">DZR Visit Dashboard</h1>
  <div class="nav-tabs">
    <a href="#att">Attendance</a>
    <a href="#bod-att">BOD Attendance</a>
    <a href="#showcase">Showcase</a>
  </div>
  <span class="pill">View-only</span>
  <button id="dzrSignOut" class="pill" style="margin-left:8px;">Sign out</button>
</div>

    <!-- Attendance (view-only) -->
    <section id="att" class="dzr-card">
      <h2 class="panel-title">Attendance (Members)</h2>
      <p class="panel-sub">Filter by member(s) and event(s). Read Only Access.</p>

      <div class="toolbar">
        <input id="dzrMemberSearch" type="text" placeholder="Search member…">
        <select id="dzrMemberSelect" multiple title="Members" style="min-width:220px;"></select>
        <button id="dzrMemberAll" class="pill">Select all</button>

        <input id="dzrEventSearch" type="text" placeholder="Search event…">
        <select id="dzrEventSelect" multiple title="Events" style="min-width:220px;"></select>
        <button id="dzrEventAll" class="pill">Select all</button>

        <select id="dzrMonthFilter">
          <option value="">All months</option>
        </select>
      </div>

      <div class="kpis">
        <div class="kpi"><h3>Total Events (filtered)</h3><div id="dzrEvtCount" class="val">0</div></div>
        <div class="kpi"><h3>Avg Attendance %</h3><div id="dzrAvg" class="val">—</div></div>
        <div class="kpi"><h3>Top Attendees</h3><div id="dzrTop" class="val">—</div></div>
      </div>

      <div class="grid-wrap">
        <table class="grid">
          <thead id="dzrAttHead"></thead>
          <tbody id="dzrAttBody"></tbody>
        </table>
      </div>
    </section>

    <!-- BOD Attendance (view-only) -->
    <section id="bod-att" class="dzr-card">
      <h2 class="panel-title">BOD Attendance</h2>
      <p class="panel-sub">Filter by BOD member(s) and meeting(s). Read-only Access.</p>

      <div class="toolbar">
        <input id="dzrBodSearch" type="text" placeholder="Search BOD…">
        <select id="dzrBodSelect" multiple title="BOD Members" style="min-width:220px;"></select>
        <button id="dzrBodAll" class="pill">Select all</button>

        <input id="dzrMeetSearch" type="text" placeholder="Search meetings…">
        <select id="dzrMeetSelect" multiple title="Meetings" style="min-width:220px;"></select>
        <button id="dzrMeetAll" class="pill">Select all</button>
      </div>

      <div class="kpis">
        <div class="kpi"><h3>Total Meetings (filtered)</h3><div id="dzrMeetCount" class="val">0</div></div>
        <div class="kpi"><h3>Avg Attendance %</h3><div id="dzrBodAvg" class="val">-</div></div>
        <div class="kpi"><h3>Top Presence</h3><div id="dzrBodTop" class="val">-</div></div>
      </div>

      <div class="grid-wrap">
        <table class="grid">
          <thead id="dzrBodHead"></thead>
          <tbody id="dzrBodBody"></tbody>
        </table>
      </div>
    </section>

    <!-- Showcase panels (Drive + PPT) -->
    <section id="showcase" class="dzr-card">
      <h2 class="panel-title">Showcase Panels</h2>
      <p class="panel-sub">Jump to a department to view document folders and embedded presentations.</p>

      <div class="nav-tabs" style="margin-bottom:6px;">
        <a href="#p-president">President</a>
        <a href="#p-secretary">Secretary</a>
        <a href="#p-treasurer">Treasurer</a>
        <a href="#p-vp">VP</a>
        <a href="#p-ipp">IPP</a>
        <a href="#p-pdd">PDD</a>
        <a href="#p-csd">CSD</a>
        <a href="#p-isd">ISD</a>
        <a href="#p-cmd">CMD</a>
        <a href="#p-pro">PRO</a>
        <a href="#p-dei">DEI</a>
        <a href="#p-sports">Sports Rep</a>
        <a href="#p-rrro">RRRO</a>
      </div>

      <!-- One block per panel. Replace the href/src with your Drive links -->
      <div id="p-president" class="dzr-card">
        <h3 class="panel-title">President</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="YOUR_PRESIDENT_FOLDER_LINK" target="_blank">Open Drive Folder</a>
        </p>
        <!-- IPP / documents-only panels can omit iframes. Keep iframe in others: -->
        <iframe class="ppt-frame" src="https://drive.google.com/file/d/YOUR_PRESIDENT_PPT_FILE_ID/preview" allow="autoplay"></iframe>
      </div>

      <div id="p-secretary" class="dzr-card">
        <h3 class="panel-title">Secretary</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="YOUR_SECRETARY_FOLDER_LINK" target="_blank">Open Drive Folder</a>
        </p>
        <iframe class="ppt-frame" src="https://drive.google.com/file/d/YOUR_SECRETARY_PPT_FILE_ID/preview" allow="autoplay"></iframe>
      </div>

      <div id="p-treasurer" class="dzr-card">
        <h3 class="panel-title">Treasurer</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="YOUR_TREASURER_FOLDER_LINK" target="_blank">Open Drive Folder</a>
        </p>
        <iframe class="ppt-frame" src="https://drive.google.com/file/d/YOUR_TREASURER_PPT_FILE_ID/preview" allow="autoplay"></iframe>
      </div>

      <div id="p-vp" class="dzr-card">
        <h3 class="panel-title">Vice President</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="YOUR_VP_FOLDER_LINK" target="_blank">Open Drive Folder</a>
        </p>
        <iframe class="ppt-frame" src="https://drive.google.com/file/d/YOUR_VP_PPT_FILE_ID/preview" allow="autoplay"></iframe>
      </div>

      <div id="p-ipp" class="dzr-card">
        <h3 class="panel-title">IPP</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="YOUR_IPP_FOLDER_LINK" target="_blank">Open Drive Folder</a>
        </p>
        <!-- no PPT here per your note -->
      </div>

      <!-- Avenues (examples) -->
      <div id="p-cmd" class="dzr-card">
        <h3 class="panel-title">CMD</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="https://drive.google.com/drive/folders/1ipASvE2Ofo0ooB95vkfijzVdvMsxhD9W?usp=drive_link" target="_blank">Open Drive Folder</a>
        </p>
        <iframe class="ppt-frame" src="https://docs.google.com/presentation/d/1jYXyKya6yPY8SDqOybm3oK_34fLjUw9u/edit?usp=drive_link&ouid=104366023356332266457&rtpof=true&sd=true/preview" allow="autoplay"></iframe>
      </div>

      <div id="p-pdd" class="dzr-card">
        <h3 class="panel-title">PDD</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="YOUR_PDD_FOLDER_LINK" target="_blank">Open Drive Folder</a>
        </p>
        <iframe class="ppt-frame" src="https://drive.google.com/file/d/YOUR_PDD_PPT_FILE_ID/preview" allow="autoplay"></iframe>
      </div>

      <div id="p-csd" class="dzr-card">
        <h3 class="panel-title">CSD</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="YOUR_CSD_FOLDER_LINK" target="_blank">Open Drive Folder</a>
        </p>
        <iframe class="ppt-frame" src="https://drive.google.com/file/d/YOUR_CSD_PPT_FILE_ID/preview" allow="autoplay"></iframe>
      </div>

      <div id="p-isd" class="dzr-card">
        <h3 class="panel-title">ISD</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="YOUR_ISD_FOLDER_LINK" target="_blank">Open Drive Folder</a>
        </p>
        <iframe class="ppt-frame" src="https://drive.google.com/file/d/YOUR_ISD_PPT_FILE_ID/preview" allow="autoplay"></iframe>
      </div>

      <div id="p-pro" class="dzr-card">
        <h3 class="panel-title">PRO</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="YOUR_PRO_FOLDER_LINK" target="_blank">Open Drive Folder</a>
        </p>
        <iframe class="ppt-frame" src="https://drive.google.com/file/d/YOUR_PRO_PPT_FILE_ID/preview" allow="autoplay"></iframe>
      </div>

      <div id="p-dei" class="dzr-card">
        <h3 class="panel-title">DEI</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="YOUR_DEI_FOLDER_LINK" target="_blank">Open Drive Folder</a>
        </p>
        <iframe class="ppt-frame" src="https://drive.google.com/file/d/YOUR_DEI_PPT_FILE_ID/preview" allow="autoplay"></iframe>
      </div>

      <div id="p-sports" class="dzr-card">
        <h3 class="panel-title">Sports Representative</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="YOUR_SPORTS_FOLDER_LINK" target="_blank">Open Drive Folder</a>
        </p>
        <iframe class="ppt-frame" src="https://drive.google.com/file/d/YOUR_SPORTS_PPT_FILE_ID/preview" allow="autoplay"></iframe>
      </div>

      <div id="p-rrro" class="dzr-card">
        <h3 class="panel-title">RRRO</h3>
        <p class="panel-sub">
          Documents: <a class="drive-link" href="YOUR_RRRO_FOLDER_LINK" target="_blank">Open Drive Folder</a>
        </p>
        <iframe class="ppt-frame" src="https://drive.google.com/file/d/YOUR_RRRO_PPT_FILE_ID/preview" allow="autoplay"></iframe>
      </div>

    </section>
  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="firebase-init.js"></script>
  <script src="dzrvisit.js"></script>
</body>
</html>